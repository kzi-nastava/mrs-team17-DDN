<app-user-navbar></app-user-navbar>

<div class="content">
  <div class="grid">
    <div class="map-wrap">
      <div id="tracking-map" class="map"></div>

      <div class="overlay">
        <div class="overlay-title">Ride tracking</div>

        <div class="overlay-row">
          <span class="label">ETA</span>
          <span class="value">{{ etaMinutes }} min</span>
        </div>

        <div class="overlay-row">
          <span class="label">Distance</span>
          <span class="value">{{ distanceKm }} km</span>
        </div>

        <div class="overlay-row">
          <span class="label">Status</span>
          <span class="value">{{ rideStatus }}</span>
        </div>

        <button class="btn" (click)="openReport()">Report inconsistency</button>
      </div>
    </div>

    <div class="side">
      <div class="card">
        <div class="card-title">Trip</div>

        <div class="kv">
          <div class="k">Pickup</div>
          <div class="v">{{ pickupLabel }}</div>
        </div>

        <div class="kv">
          <div class="k">Destination</div>
          <div class="v">{{ destinationLabel }}</div>
        </div>

        <div class="kv">
          <div class="k">Vehicle</div>
          <div class="v">{{ vehicleLabel }}</div>
        </div>

        <div class="kv">
          <div class="k">Driver</div>
          <div class="v">{{ driverLabel }}</div>
        </div>
      </div>

      <div class="note">
        UI-only for IKS: no real-time location, no API.
      </div>
    </div>
  </div>
</div>

<div class="modal-backdrop" *ngIf="reportOpen" (click)="closeReport()"></div>

<div class="modal" *ngIf="reportOpen">
  <div class="modal-title">Report inconsistency</div>

  <textarea
    class="textarea"
    [(ngModel)]="reportText"
    placeholder="Describe the issue..."
  ></textarea>

  <div class="modal-actions">
    <button class="btn secondary" (click)="closeReport()">Cancel</button>
    <button class="btn primary" (click)="submitReport()">Submit</button>
  </div>
</div>
